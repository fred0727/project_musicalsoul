<!DOCTYPE html>
<html lang="en">
<%- include('../../partials/header', { title: "Dashboard - Profesores | Music & Soul", type: null, includePushNotifications: false }); %>

<body>
    <%- include('../../partials/nav'); %>
    <div class="columns">
        <div class="column is-one-quarter">
            <%- include('../../partials/aside'); %>
        </div>
        <div class="column">
            <div class="box">
                <div class="table-container">
                    <table class="table is-fullwidth">
                        <thead>
                            <tr>
                                <th><abbr title="Name">Nombre</abbr></th>
                                <th>Email</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% rows.sort((a, b) => a.name - b.name).forEach((row) => { %>
                            <tr class="row">
                                <td>
                                    <%= row.name %>
                                </td>
                                <td>
                                    <%= row.email %>
                                </td>
                                <% if (user.type === 'ADMIN') { %>
                                <th>

                                    <button name="<%= row.name %>" id="<%= row.id %>" type="submit"
                                        class="button is-warning deleteStudent">Eliminar</button>
                                </th>
                                <% } %>
                                <% if (user.type === 'TEACHER') { %>
                                <th>
                                    <a class="button"
                                        href="<%=`/panel/dashboard/lessons/create?clientId=${row.id}`%>">Agendar
                                        clase</a>
                                </th>
                                <% } %>
                            </tr>
                            <% }); %>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script src="/static/js/modal.js"></script>
    <script src="/static/js/nav.js"></script>
    <script src="/static/js/script.js"></script>
</body>

</html>